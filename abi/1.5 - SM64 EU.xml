<?xml version="1.0" encoding="UTF-8"?>

<cmdlist>
  <command cmd="0" name="notedvg" action="Track Note" cmdend="63" validintrk="1"
           comments="Note with delay, velocity, and gate length.">
    <parameter datasrc="offset" datalen="0" name="Note" meaning="Note"/>
    <parameter datasrc="variable" datalen="2" name="Delay" meaning="Delay"/>
    <parameter datasrc="fixed" datalen="1" name="Velocity" meaning="Velocity"/>
    <parameter datasrc="fixed" datalen="1" name="Gate" meaning="Gate Time"/>
  </command>
  <command cmd="64" name="notedv" action="Track Note" validintrk="1" cmdend="127"
           comments="Note with delay and velocity; gate length is 0 (full).">
    <parameter datasrc="offset" datalen="0" name="Note" meaning="Note"/>
    <parameter datasrc="variable" datalen="2" name="Delay" meaning="Delay"/>
    <parameter datasrc="fixed" datalen="1" name="Velocity" meaning="Velocity"/>
  </command>
  <command cmd="128" name="notevg" action="Track Note" validintrk="1" cmdend="191"
           comments="Note with velocity and gate length; duration is the same as the last note.">
    <parameter datasrc="offset" datalen="0" name="Note" meaning="Note"/>
    <parameter datasrc="fixed" datalen="1" name="Velocity" meaning="Velocity"/>
    <parameter datasrc="fixed" datalen="1" name="Gate Time" meaning="Gate Time"/>
  </command>
  <command cmd="192" name="tdelay" action="Delay" validintrk="1" comments="Delay for N ticks">
    <parameter datasrc="variable" datalen="2" name="Delay" meaning="Delay"/>
  </command>
  <command cmd="193" name="shortnotevelocity" action="No Action" validintrk="1"
           comments="Set velocity for future short notes.">
    <parameter name="Velocity" meaning="None" datasrc="fixed" datalen="1"/>
  </command>
  <command cmd="194" name="ttp" action="Layer Transpose" validintrk="1"
           comments="Set note track transposition in semitones.">
    <parameter datasrc="fixed" datalen="1" name="Value" meaning="Value"/>
  </command>
  <command cmd="195" name="shortnotegate" action="No Action" validintrk="1"
           comments="Set the default gate (play percentage) for short notes.">
    <parameter name="Gate" meaning="None" datasrc="variable" datalen="2"/>
  </command>
  <command cmd="196" name="legatoon" action="No Action" validintrk="1" comments="Turn on legato (continuousNotes, i.e. envelope doesn't restart when next note happens)."/>
  <command cmd="197" name="legatooff" action="No Action" validintrk="1"
           comments="Turn off legato (continuousNotes, i.e. envelope restarts like normal when next note happens)."/>
  <command cmd="198" name="tinst" action="No Action" validintrk="1" comments="Set instrument/program. Similar to the channel command, except arguments 0x7f and above are not supported.">
    <parameter name="Instrument (0-0x7E)" meaning="None" datasrc="fixed" datalen="1"/>
  </command>
  <command cmd="199" name="portamento" action="No Action" comments="Enable portamento (aka glissando; continuously sliding pitch). X describes the mode of operation somehow using its 0x80 bit and a value 0-5 in its lower-order bits. (Probably 0x80 = set = fixed sweep rate, 0x80 = clear = fixed sweep time, or maybe vice versa.) Y describes the target pitch. Z gives the duration, and is a u8 if the 0x80 bit is set in X, otherwise a var. Note that parsing this data-dependent datatype is not supported by SEQ64!"
           validintrk="1">
    <parameter name="Mode" meaning="None" datasrc="fixed" datalen="1"/>
    <parameter name="Target Pitch" meaning="None" datasrc="fixed" datalen="1"/>
    <parameter name="Time/Rate" meaning="None" datasrc="variable" datalen="2"/>
  </command>
  <command cmd="200" name="portamentooff" action="No Action" comments="Disable portamento."
           validintrk="1"/>
  <command cmd="201" name="shortnoteduration" action="No Action" validintrk="1"
           comments="Set the duration for future short notes.">
    <parameter name="Duration" meaning="None" datasrc="fixed" datalen="1"/>
  </command>
  <command cmd="202" name="tpan" action="No Action" validintrk="1" comments="Set the pan for this track (0&#8230;128).">
    <parameter name="Pan" meaning="None" datasrc="fixed" datalen="1"/>
  </command>
  <command cmd="203" name="loadenv" action="No Action" validintrk="1" comments="Load envelope data from the sequence.">
    <parameter name="Address" meaning="None" datasrc="fixed" datalen="2"/>
    <parameter name="Release Rate" meaning="None" datasrc="fixed" datalen="1"/>
  </command>
  <command cmd="204" name="ignoredrumpan" action="No Action" comments="Sets the ignoreDrumPan track variable. (Not sure how to clear this.)"
           validintrk="1"/>
  <command cmd="208" name="shortnotevelocityfromtable" action="No Action"
           comments="Set the velocity for future short notes to table[N], where table defaults to {12, 25, 38, 51, 57, 64, 71, 76, 83, 89, 96, 102, 109, 115, 121, 127} and can be set by shortnotevelocitytable."
           cmdend="223" validintrk="1"/>
  <command cmd="224" name="shortnotedurationfromtable" action="No Action"
           cmdend="239" validintrk="1" comments="Set the duration for future short notes to table[N], where table defaults to {229, 203, 177, 151, 139, 126, 113, 100, 87, 74, 61, 48, 36, 23, 10, 0} and can be set by shortnotedurationtable."/>
  <command cmd="120" name="Relative Trk Ptr" action="Ptr Track Data" cmdend="123"
           validinchn="1">
    <parameter datasrc="offset" datalen="0" name="Layer" meaning="Note Layer"/>
    <parameter datasrc="fixed" datalen="2" name="Address" meaning="Relative Address"/>
  </command>
  <command cmd="144" name="Absolute Trk Ptr" action="Ptr Track Data" cmdend="147"
           validinchn="1">
    <parameter datasrc="offset" datalen="0" name="Note Layer" meaning="Note Layer"/>
    <parameter datasrc="fixed" datalen="2" name="Address" meaning="Absolute Address"/>
  </command>
  <command cmd="96" name="Unknown (Volume 2nd byte?)" action="No Action"
           cmdend="111" validinchn="1">
    <parameter datasrc="offset" datalen="0" name="Value" meaning="None"/>
  </command>
  <command cmd="193" name="Instrument" action="Chn Instrument" validinchn="1">
    <parameter datasrc="fixed" datalen="1" name="Instrument" meaning="Value"/>
  </command>
  <command cmd="194" name="Transposition" action="Chn Transpose" validinchn="1">
    <parameter datasrc="fixed" datalen="1" name="Value" meaning="Value"/>
  </command>
  <command cmd="196" name="Channel Start" action="Chn Reset" validinchn="1"/>
  <command cmd="211" name="Pitch Bend" action="Chn Pitch Bend" validinchn="1">
    <parameter datasrc="fixed" datalen="1" name="Bend" meaning="Value"/>
  </command>
  <command cmd="212" name="Effect Level" action="Chn Effects" validinchn="1">
    <parameter datasrc="fixed" datalen="1" name="Value" meaning="Value"/>
  </command>
  <command cmd="216" name="Vibrato (Chn)" action="Chn Vibrato" validinchn="1">
    <parameter datasrc="fixed" datalen="1" name="Vibrato" meaning="Value"/>
  </command>
  <command cmd="218" name="Unknown" action="No Action" validinchn="1">
    <parameter datasrc="fixed" datalen="1" name="Unnamed" meaning="None"/>
  </command>
  <command cmd="220" name="Drumset?" action="No Action" validinchn="1">
    <parameter datasrc="fixed" datalen="1" name="Unknown" meaning="None"/>
  </command>
  <command cmd="221" name="Chan Pan" action="Chn Pan" validinchn="1">
    <parameter datasrc="fixed" datalen="1" name="Pan" meaning="Value"/>
  </command>
  <command cmd="223" name="Chan Volume (Chn)" action="Chn Volume" validinchn="1">
    <parameter datasrc="fixed" datalen="1" name="Volume" meaning="Value"/>
  </command>
  <command cmd="224" name="Unknown" action="No Action" validinchn="1">
    <parameter datasrc="fixed" datalen="1" name="Unknown" meaning="None"/>
  </command>
  <command cmd="233" name="Channel Priority" action="No Action" validinchn="1">
    <parameter datasrc="fixed" datalen="1" name="Priority" meaning="None"/>
  </command>
  <command cmd="234" name="chalt" action="No Action" comments="Stop channel script"
           validinchn="1"/>
  <command cmd="0" name="Load Chn Bit to Q" action="No Action" cmdend="15"
           validinseq="1">
    <parameter datasrc="offset" datalen="0" name="Channel" meaning="None"/>
  </command>
  <command cmd="16" name="Ignored Seq Cmd" action="No Action" cmdend="63"
           validinseq="1"/>
  <command cmd="64" name="Chn C Unknown (init?)" action="No Action" cmdend="79"
           validinseq="1" validinchn="1">
    <parameter datasrc="offset" datalen="0" name="Channel" meaning="None"/>
  </command>
  <command cmd="80" name="Q -= var[C]" action="No Action" cmdend="95" validinseq="1"
           validinchn="1">
    <parameter datasrc="offset" datalen="0" name="C" meaning="None"/>
  </command>
  <command cmd="96" name="Load ??? DMA from var[C]" action="No Action" cmdend="111"
           validinseq="1" validinchn="1">
    <parameter datasrc="offset" datalen="0" name="C" meaning="None"/>
    <parameter datasrc="fixed" datalen="1" name="Unknown 1" meaning="None"/>
    <parameter datasrc="fixed" datalen="1" name="Unknown 2" meaning="None"/>
  </command>
  <command cmd="112" name="var[C] = Q" action="No Action" cmdend="127" validinseq="1"
           validinchn="1">
    <parameter datasrc="offset" datalen="0" name="C" meaning="None"/>
  </command>
  <command cmd="128" name="Q = var[C]; if(C&lt;2) var[C] = -1;" action="No Action"
           cmdend="143" validinseq="1" validinchn="1">
    <parameter datasrc="offset" datalen="0" name="Unnamed" meaning="None"/>
  </command>
  <command cmd="144" name="Absolute Chn Ptr" action="Ptr Channel Header"
           cmdend="159" validinseq="1">
    <parameter datasrc="offset" datalen="0" name="Channel" meaning="Channel"/>
    <parameter datasrc="fixed" datalen="2" name="Address" meaning="Absolute Address"/>
  </command>
  <command cmd="160" name="Relative Chn Ptr" action="Ptr Channel Header"
           cmdend="175" validinseq="1">
    <parameter datasrc="offset" datalen="0" name="Channel" meaning="Channel"/>
    <parameter datasrc="fixed" datalen="2" name="Address" meaning="Relative Address"/>
  </command>
  <command cmd="176" name="Set Up New Seq from var[C]" action="No Action"
           cmdend="191" validinseq="1" validinchn="1">
    <parameter datasrc="offset" datalen="0" name="C" meaning="None"/>
    <parameter datasrc="fixed" datalen="1" name="New seq index" meaning="None"/>
    <parameter datasrc="fixed" datalen="2" name="Unknown" meaning="None"/>
  </command>
  <command cmd="196" name="WIP possibly return from parsing?" action="No Action"
           validinseq="1">
    <parameter datasrc="fixed" datalen="1" name="Unknown 1" meaning="None"/>
    <parameter datasrc="fixed" datalen="1" name="Unknown 2" meaning="None"/>
  </command>
  <command cmd="197" name="WIP Store to SeqParams[E0]" action="No Action"
           validinseq="1">
    <parameter datasrc="fixed" datalen="2" name="Unknown" meaning="None"/>
  </command>
  <command cmd="198" name="Return from Sequence" action="End of Data" validinseq="1"/>
  <command cmd="199" name="WIP" action="No Action" validinseq="1" validinchn="1">
    <parameter datasrc="fixed" datalen="1" name="Unnamed" meaning="None"/>
    <parameter datasrc="fixed" datalen="2" name="Unnamed" meaning="None"/>
  </command>
  <command cmd="200" name="subtract" action="No Action" validinseq="1" validinchn="1"
           comments="Q -= val">
    <parameter datasrc="fixed" datalen="1" name="Value" meaning="None"/>
  </command>
  <command cmd="201" name="bitand" action="No Action" validinseq="1" validinchn="1"
           comments="Q &amp;= val">
    <parameter datasrc="fixed" datalen="1" name="Value" meaning="None"/>
  </command>
  <command cmd="204" name="setval" action="No Action" validinseq="1" validinchn="1"
           comments="Q = val">
    <parameter datasrc="fixed" datalen="1" name="Value" meaning="None"/>
  </command>
  <command cmd="208" name="setnoteallocationpolicy" action="No Action" comments="Set note allocation policy (bitmask). If bit 0x1 is set, it will try to steal notes back from what was previously played on the same layer. If bit 0x2 is set, notes will be allocated exclusively from the channel&#8217;s reserved notes, else if 0x4 is set, from the channel&#8217;s or sequence&#8217;s reserved notes, else if 0x8 is set, from unreserved notes, otherwise from all sources. Not used by the game."
           validinseq="1">
    <parameter name="Bitmask" meaning="None" datasrc="fixed" datalen="1"/>
  </command>
  <command cmd="209" name="setshortnotedurationtable" action="No Action"
           comments="Set duration table for short notes. Target should be an array of bytes in the sequence data of length 16."
           validinseq="1">
    <parameter name="Address" meaning="None" datasrc="fixed" datalen="2"/>
  </command>
  <command cmd="210" name="setshortnotevelocitytable" action="No Action"
           comments="Set velocity table for short notes. Target should be an array of bytes in the sequence data of length 16."
           validinseq="1">
    <parameter name="Address" meaning="None" datasrc="fixed" datalen="2"/>
  </command>
  <command cmd="211" name="setmutebhv" action="Sequence Format" validinseq="1"
           comments="Set mute behavior (bitmask). Bit 0x20 lowers volume, bit 0x40 does something to tracks, and bit 0x80 pauses the sequence script. Default mute behavior is to have all of those bits set.">
    <parameter datasrc="fixed" datalen="1" name="Format" meaning="Value"/>
  </command>
  <command cmd="212" name="mute" action="No Action" comments="Set sequence to muted mode. Depending on what behavior has been set this will do different things; from lowering volume to not running scripts."
           validinseq="1"/>
  <command cmd="213" name="setmutescale" action="Sequence Type" validinseq="1"
           comments="Set volume multiplier for muted mode (0&#8230;127).">
    <parameter datasrc="fixed" datalen="1" name="Volume Multiplier" meaning="Value"/>
  </command>
  <command cmd="214" name="disablechannels" action="Channel Disable" validinseq="1"
           comments="Uninitialize channels (bitmask).">
    <parameter datasrc="fixed" datalen="2" name="Channels" meaning="Bitfield"/>
  </command>
  <command cmd="215" name="initchannels" action="Channel Enable" validinseq="1"
           comments="Initialize channels (bitmask). This copies mute behavior and note allocation policy.">
    <parameter datasrc="fixed" datalen="2" name="Channels" meaning="Bitfield"/>
  </command>
  <command cmd="218" name="changevol" action="No Action" comments="Change volume scale by some delta."
           validinseq="1">
    <parameter name="Delta Volume" meaning="None" datasrc="fixed" datalen="1"/>
  </command>
  <command cmd="219" name="setvol" action="Master Volume" validinseq="1"
           comments="Set volume scale (0&#8230;255 = none to twice normal).&#10;Actually normal is 0x58, not 0x80.">
    <parameter datasrc="fixed" datalen="1" name="Volume" meaning="Value"/>
  </command>
  <command cmd="220" name="addtempo" action="No Action" comments="Change tempo by some delta."
           validinseq="1">
    <parameter name="Delta Tempo" meaning="None" datasrc="fixed" datalen="1"/>
  </command>
  <command cmd="221" name="settempo" action="Tempo" validinseq="1" comments="Set tempo in BPM.">
    <parameter datasrc="fixed" datalen="1" name="Tempo" meaning="Value"/>
  </command>
  <command cmd="222" name="transposerel" action="No Action" comments="Change transposition by some delta."
           validinseq="1">
    <parameter name="Delta Semitones" meaning="None" datasrc="fixed" datalen="1"/>
  </command>
  <command cmd="223" name="transpose" action="No Action" validinseq="1"
           comments="Set transposition in semitones.">
    <parameter datasrc="fixed" datalen="1" name="Semitones" meaning="None"/>
  </command>
  <command cmd="241" name="unreservenotes" action="No Action" validinseq="1"
           comments="Drop all earlier reservations made by this sequence/channel."
           validinchn="1"/>
  <command cmd="242" name="rbltz" action="Jump Same Level" comments="Branch Relative if Q &lt; 0"
           validinchn="1">
    <parameter name="Address (Relative)" meaning="Relative Address" datasrc="fixed"
               datalen="1"/>
  </command>
  <command cmd="242" name="reservenotes" action="No Action" validinseq="1"
           comments="Reserve X notes for exclusive use by this sequence/channel (dropping earlier reservations). A limited number of notes can be played at once (configurable per level, usually 16); if more than that are played, an existing one will be stopped and reused. This command can prevent that from happening across sequences."
           validinchn="1">
    <parameter datasrc="fixed" datalen="1" name="Notes to reserve" meaning="None"/>
  </command>
  <command cmd="243" name="hang" action="Delay" comments="Infinite delay"
           validinchn="1">
    <parameter name="Infinity" meaning="None" datasrc="constant" datalen="9999999"/>
  </command>
  <command cmd="243" name="rbeqz" action="Jump Same Level" validinseq="1"
           comments="Branch Relative if Q == 0" validinchn="1">
    <parameter datasrc="fixed" datalen="1" name="Address (Relative)" meaning="Relative Address"/>
  </command>
  <command cmd="244" name="rjump" action="Jump Same Level" validinseq="1"
           validinchn="1" validintrk="1" comments="Branch Relative Always">
    <parameter datasrc="fixed" datalen="1" name="Address (Relative)" meaning="Relative Address"/>
  </command>
  <command cmd="245" name="bgez" action="Jump Same Level" validinseq="1"
           validinchn="1" comments="Branch Absolute if Q&gt;=0">
    <parameter datasrc="fixed" datalen="2" name="Address" meaning="Absolute Address"/>
  </command>
  <command cmd="246" name="break" action="No Action" comments="Decrease loop/function stack depth by 1. Combine with a jump to break out of a loop."
           validinchn="1"/>
  <command cmd="246" name="bstart" action="Jump Same Level" validinseq="1"
           comments="Branch Absolute to Seq Start">
    <parameter datasrc="constant" datalen="0" name="Constant value 0" meaning="Absolute Address"/>
  </command>
  <command cmd="247" name="loopend" action="Loop End" validinseq="1" validinchn="1"
           validintrk="1" comments="Loop End"/>
  <command cmd="248" name="loop" action="Loop Start" validinseq="1" validinchn="1"
           validintrk="1" comments="Loop Start">
    <parameter datasrc="fixed" datalen="1" name="Loop Count" meaning="Loop Count"/>
  </command>
  <command cmd="249" name="bltz" action="Jump Same Level" validinseq="1"
           validinchn="1" comments="Branch Absolute if Q &lt; 0">
    <parameter datasrc="fixed" datalen="2" name="Address" meaning="Absolute Address"/>
  </command>
  <command cmd="250" name="beqz" action="Jump Same Level" validinseq="1"
           validinchn="1" comments="Branch Absolute if Q == 0">
    <parameter datasrc="fixed" datalen="2" name="Address" meaning="Absolute Address"/>
  </command>
  <command cmd="251" name="jump" action="Jump Same Level" validinseq="1"
           validinchn="1" validintrk="1" comments="Branch Absolute Always">
    <parameter datasrc="fixed" datalen="2" name="Address" meaning="Absolute Address"/>
  </command>
  <command cmd="252" name="call" action="Call Same Level" validinseq="1"
           validinchn="1" validintrk="1" comments="Call Absolute">
    <parameter datasrc="fixed" datalen="2" name="Address" meaning="Absolute Address"/>
  </command>
  <command cmd="253" name="delay" action="Delay" validinseq="1" validinchn="1">
    <parameter datasrc="variable" datalen="2" name="Delay" meaning="Delay"/>
  </command>
  <command cmd="254" name="delay1" action="Delay" validinseq="1" validinchn="1"
           comments="Delay by 1 tick">
    <parameter name="Constant delay" meaning="Delay" datasrc="constant" datalen="1"/>
  </command>
  <command cmd="255" name="end" action="End of Data" validinseq="1" validinchn="1"
           validintrk="1"/>
</cmdlist>
